<!doctype html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Ruleta de Loot</title>
  <link rel="stylesheet" href="style.css" />
</head>
<body>

<header class="container">
  <h1>ğŸ Ruleta de Loot de Bulem</h1>
  <p class="muted">Que el RNG estÃ© de tu lado ğŸ™</p>
</header>

<main class="container grid">

  <!-- CONFIGURACIÃ“N -->
  <section class="card">
    <h2>âš™ï¸ ConfiguraciÃ³n del Raid</h2>

    <p class="muted">
      AjustÃ¡ las reglas antes de girar la ruleta.  
      DespuÃ©s no llores en clan chat ğŸ˜ˆ
    </p>

    <label class="check">
      <input type="checkbox" id="optUniquePrize" checked>
      ğŸ”’ Un player gana una sola vez (despuÃ©s queda fuera del loot)
    </label>

    <label class="check">
      <input type="checkbox" id="optNoRepeatPrize">
      ğŸ” Evitar que salga el mismo loot dos veces seguidas
    </label>

    <label class="check">
      <input type="checkbox" id="optWeighted" checked>
      ğŸ¯ MÃ¡s stock = mÃ¡s chance (RNG con memoria)
    </label>

    <div class="row">
      <button id="btnReset" class="danger">ğŸ’£ Resetear todo</button>
      <button id="btnClearHistory" class="secondary">ğŸ§¹ Limpiar historial</button>
      <button id="btnExport" class="secondary">ğŸ“¦ Exportar data</button>
      <button id="btnImport" class="secondary">ğŸ“¥ Importar data</button>
      <input type="file" id="importFile" accept="application/json" hidden>
    </div>
  </section>

  <!-- LOOT + PLAYERS -->
  <section class="card">

    <h3>ğŸ’ Loot disponible</h3>
    <div class="inline">
      <input id="prizeName" placeholder="Ej: Enchant Weapon">
      <input id="prizeQty" type="number" value="1" min="1">
      <button id="btnAddPrize">Agregar</button>
    </div>

    <div id="prizeList" class="list"></div>

    <!-- PLAYERS (ACORDEÃ“N) -->
    <details class="accordion" id="playersAccordion" open>
      <summary class="accordionSummary">
        <span>ğŸ§‘â€ğŸ¤â€ğŸ§‘ Party / Clan</span>
        <span class="meta" id="playersCount">(0)</span>
      </summary>

      <div class="accordionBody">
        <div class="inline">
          <input id="participantName" placeholder="Ej: LaPuchu">
          <button id="btnAddParticipant">Invitar</button>
        </div>

        <div class="inline">
            <textarea id="bulkParticipants" placeholder="Carga grupal Ej:   
                                                                            LaPuchu
                                                                            Bulem
                                                                            Aria
                                                                            Esculapio
                                                                            Arepa
            "></textarea>
            
          <button id="btnAddBulk">Cargar Grupo</button>
        </div>

        <div id="participantList" class="list"></div>
      </div>
    </details>

  </section>

  <!-- RULETA -->
  <section class="card wide">
    <h2>ğŸ¡ Ruleta del Destino</h2>

    <div class="wheelWrap">
      <canvas id="wheel" width="520" height="520"></canvas>
      <div class="pointer" aria-hidden="true"></div>
    </div>

    <div class="row">
      <label>Player en turno</label>
      <select id="participantSelect"></select>
    </div>

    <div class="row">
      <button id="btnSpin" class="primary">ğŸ° GIRAR (RNG)</button>
      <button id="btnSkip" class="secondary">â­ï¸ Pasar turno</button>
    </div>

    <div class="card small">
      <h3>ğŸ“œ Resultado</h3>
      <div id="result" class="result muted">Esperando que gire la suerte...</div>
    </div>

    <div class="card small">
      <h3>ğŸ† Historial de drops</h3>
      <div id="history" class="history"></div>
    </div>
  </section>

</main>

<footer class="container muted">
  Powered by RNGsus âœ¨ | Hecho por Bulem â™¥
</footer>

<script src="app.js"></script>
</body>
</html>
